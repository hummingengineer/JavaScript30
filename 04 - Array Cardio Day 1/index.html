<!-- We're dealing with the fundamentals of Javascript and that is working with array methods -->
<!-- Filter, Map, Sort, Reduce -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Array Cardio 💪</title>
  </head>

  <body>

    <p><em>Psst: have a look at the JavaScript Console</em> 💁</p>

    <script>
      const inventors = [
        { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
        { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
        { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
        { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
        { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
        { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
        { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
        { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
        { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
        { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
        { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
        { first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 }
      ]

      // the last name, comma, space, the first name
      const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William']
      
      // Array.prototype.filter()
      // 1. Filter the list of inventors for those who were born in the 1500's
      // Get inventors who were born in the 1500s
      // The way that a filter works is you pass it a function and that function is going to loop over every single item in our array.
      // We loop over and for each inventor, we can decide whether we want to keep it or not.
      const fifteen = inventors.filter(inventor => inventor.year >= 1500 && inventor.year < 1600)
      console.table(fifteen)

      // Array.prototype.map()
      // 2. Give us an array of the inventors first and last names
      // Map does something with that array and then returns a new array but of the same length.
      // Map will always return the same amount of items as you give it.
      const fullNames = inventors.map(inventor => `${inventor.first} ${inventor.last}`)
      console.log(fullNames)

      // Array.prototype.sort()
      // 3. Sort the inventors by birthdate, oldest to youngest
      // sort함수는 위 함수들(filter, map)과는 다르게 새로운 배열을 만들어 반환하는 것이 아니라 기존의 함수를 정렬만 시켜준다.
      // 또 parameter로 함수를 넘겨주는 것이 필수는 아니다. 만약 아무 함수도 넘겨주지 않고 array.sort()같은 형태로 실행하게 된다면 인자들의 유니코드 순서대로 배열을 정렬시킨다.
      // 함수를 넘겨준다면 해당 함수는 두 개의 인자를 받아 비교하는 compareFunction이어야 한다.
      // 배열에서 비교 할 요소 두 가지를 a, b라고 할 때 compareFunction(a, b)의 return 값이 0보다 작을경우 a를 b보다 앞에 정렬시키고, 0보다 클 경우에는 b를 앞으로 정렬시킨다.
      // sort() 에 먹인 함수가 음수를 리턴하면 그대로, 양수를 리턴하면 둘의 순서를 바꾼다.
      // compareFunction(a, b)이 0보다 작은 경우 a를 b보다 낮은 색인으로 정렬합니다. 즉, a가 먼저옵니다.
      const ordered = inventors.sort((a, b) => a.year > b.year ? 1 : -1)
      console.table(ordered)

      // Array.prototype.reduce()
      // 4. How many years did all the inventors live all together?  모든 inventor 들의 살아온 시간들의 합
      // Reduce will do is, where like a sort in a map, they will just take items in and either sort them or they will turn them into something else, or they will filter them down.
      // Reduce will do is allow you to sort of build something on every single one.
      // reduce() 함수는 두 개의 파라미터를 받는데, 첫번째는 reducer 함수, 두번째는 초기값이다.

      // array.reduce(callbackFunction(previousValue, currentValue, currentIndex, array1), initialValue);
      // reduce함수의 매개변수는 callbackfunction과 initialValue입니다.
      // initialValue는 callbackFunction을 호출할때 첫 previousValue 값으로 사용될 값 입니다. 선택적 사용이 가능합니다. 
      // initialValue값이 있을 경우 이 값이 callbackFunction의 첫번째 previousValue 값이 되고 currentValue가 배열의 첫번째 인자가 됩니다. (없을 경우 첫번째 previousValue에는 배열의 첫번째 값)
      // callbackFunction은 4개의 매개변수를 선택적으로 받을 수 있습니다.
      // previousValue 는 배열의 첫번째 인자, 혹은 initialValue가 있을경우 initialValue.
      // currentValue 는 배열 내 현재 처리되고 있는 값.
      // currentIndex 는 배열 내 현재 처리되는 있는 값의 인덱스. 처리할 현재 요소의 인덱스. initialValue를 제공한 경우 0, 아니면 1부터 시작합니다.
      // array1 은 현재 호출된 배열 입니다.

      // reduce() 함수는 누적계산기이다.
      // reduce() 함수에는 초기값을 주는 것이 더 안전하다.
      const totalYears = inventors.reduce((total, inventor) => {
        return total + (inventor.passed - inventor.year)
      }, 0)
      console.log(totalYears)

      // 5. Sort the inventors by years lived
      // sort() 에 들어간 함수가 음수를 리턴하면 그대로, 양수를 리턴하면 둘의 순서를 바꾼다.
      const oldest = inventors.sort(function(a, b) {
        const lastInventor = a.passed - a.year
        const nextInventor = b.passed - b.year
        return lastInventor > nextInventor ? -1 : 1
      })
      console.table(oldest)

      // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
      // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

      // 7. sort Exercise
      // Sort the people alphabetically by last name

      // 8. Reduce Exercise
      // Sum up the instances of each of these

      const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ]

    </script>

  </body>

</html>
